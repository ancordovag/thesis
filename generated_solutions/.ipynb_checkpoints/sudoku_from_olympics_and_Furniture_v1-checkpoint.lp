% Define the constants in each category.
digit(1; 2; 3; 4; 5; 6; 7; 8; 9).
row(1; 2; 3; 4; 5; 6; 7; 8; 9).
column(1; 2; 3; 4; 5; 6; 7; 8; 9).
box(1; 2; 3; 4; 5; 6; 7; 8; 9).
% For each digit D, it is assigned to exactly 1 row R, 1 column C, and 1 box B.
{assign(D, R, C, B): row(R), column(C), box(B)}=1 :- digit(D).
% No option in any category will ever be used more than once.
{D1=D2; R1=R2; C1=C2; B1=B2}=0 :- assign(D1,R1,C1,B1), assign(D2,R2,C2,B2), (D1,R1,C1,B1)!=(D2,R2,C2,B2).
% Each cell can only have one digit assigned to it.
{D1; D2; D3; D4; D5; D6; D7; D8; D9}=1 :- assign(D1,R,C,B), assign(D2,R,C,B), assign(D3,R,C,B), assign(D4,R,C,B), assign(D5,R,C,B), assign(D6,R,C,B), assign(D7,R,C,B), assign(D8,R,C,B), assign(D9,R,C,B), (D1,R,C,B)!=(D2,R,C,B), (D1,R,C,B)!=(D3,R,C,B), (D1,R,C,B)!=(D4,R,C,B), (D1,R,C,B)!=(D5,R,C,B), (D1,R,C,B)!=(D6,R,C,B), (D1,R,C,B)!=(D7,R,C,B), (D1,R,C,B)!=(D8,R,C,B), (D1,R,C,B)!=(D9,R,C,B), (D2,R,C,B)!=(D3,R,C,B), (D2,R,C,B)!=(D4,R,C,B), (D2,R,C,B)!=(D5,R,C,B), (D2,R,C,B)!=(D6,R,C,B), (D2,R,C,B)!=(D7,R,C,B), (D2,R,C,B)!=(D8,R,C,B), (D2,R,C,B)!=(D9,R,C,B), (D3,R,C,B)!=(D4,R,C,B), (D3,R,C,B)!=(D5,R,C,B), (D3,R,C,B)!=(D6,R,C,B), (D3,R,C,B)!=(D7,R,C,B), (D3,R,C,B)!=(D8,R,C,B), (D3,R,C,B)!=(D9,R,C,B), (D4,R,C,B)!=(D5,R,C,B), (D4,R,C,B)!=(D6,R,C,B), (D4,R,C,B)!=(D7,R,C,B), (D4,R,C,B)!=(D8,R,C,B), (D4,R,C,B)!=(D9,R,C,B), (D5,R,C,B)!=(D6,R,C,B), (D5,R,C,B)!=(D7,R,C,B), (D5,R,C,B)!=(D8,R,C,B), (D5,R,C,B)!=(D9,R,C,B), (D6,R,C,B)!=(D7,R,C,B), (D6,R,C,B)!=(D8,R,C,B), (D6,R,C,B)!=(D9,R,C,B), (D7,R,C,B)!=(D8,R,C,B), (D7,R,C,B)!=(D9,R,C,B), (D8,R,C,B)!=(D9,R,C,B).
% Each row can only have one of each digit.
{D1; D2; D3; D4; D5; D6; D7; D8; D9}=1 :- assign(D1,R,C,B), assign(D2,R,C,B), assign(D3,R,C,B), assign(D4,R,C,B), assign(D5,R,C,B), assign(D6,R,C,B), assign(D7,R,C,B), assign(D8,R,C,B), assign(D9,R,C,B), (D1,R,C,B)!=(D2,R,C,B), (D1,R,C,B)!=(D3,R,C,B), (D1,R,C,B)!=(D4,R,C,B), (D1,R,C,B)!=(D5,R,C,B), (D1,R,C,B)!=(D6,R,C,B), (D1,R,C,B)!=(D7,R,C,B), (D1,R,C,B)!=(D8,R,C,B), (D1,R,C,B)!=(D9,R,C,B), (D2,R,C,B)!=(D3,R,C,B), (D2,R,C,B)!=(D4,R,C,B), (D2,R,C,B)!=(D5,R,C,B), (D2,R,C,B)!=(D6,R,C,B), (D2,R,C,B)!=(D7,R,C,B), (D2,R,C,B)!=(D8,R,C,B), (D2,R,C,B)!=(D9,R,C,B), (D3,R,C,B)!=(D4,R,C,B), (D3,R,C,B)!=(D5,R,C,B), (D3,R,C,B)!=(D6,R,C,B), (D3,R,C,B)!=(D7,R,C,B), (D3,R,C,B)!=(D8,R,C,B), (D3,R,C,B)!=(D9,R,C,B), (D4,R,C,B)!=(D5,R,C,B), (D4,R,C,B)!=(D6,R,C,B), (D4,R,C,B)!=(D7,R,C,B), (D4,R,C,B)!=(D8,R,C,B), (D4,R,C,B)!=(D9,R,C,B), (D5,R,C,B)!=(D6,R,C,B), (D5,R,C,B)!=(D7,R,C,B), (D5,R,C,B)!=(D8,R,C,B), (D5,R,C,B)!=(D9,R,C,B), (D6,R,C,B)!=(D7,R,C,B), (D6,R,C,B)!=(D8,R,C,B), (D6,R,C,B)!=(D9,R,C,B), (D7,R,C,B)!=(D8,R,C,B), (D7,R,C,B)!=(D9,R,C,B), (D8,R,C,B)!=(D9,R,C,B).
% Each column can only have one of each digit.
{D1; D2; D3; D4; D5; D6; D7; D8; D9}=1 :- assign(D,R1,C,B), assign(D,R2,C,B), assign(D,R3,C,B), assign(D,R4,C,B), assign(D,R5,C,B), assign(D,R6,C,B), assign(D,R7,C,B), assign(D,R8,C,B), assign(D,R9,C,B), (D,R1,C,B)!=(D,R2,C,B), (D,R1,C,B)!=(D,R3,C,B), (D,R1,C,B)!=(D,R4,C,B), (D,R1,C,B)!=(D,R5,C,B), (D,R1,C,B)!=(D,R6,C,B), (D,R1,C,B)!=(D,R7,C,B), (D,R1,C,B)!=(D,R8,C,B), (D,R1,C,B)!=(D,R9,C,B), (D,R2,C,B)!=(D,R3,C,B), (D,R2,C,B)!=(D,R4,C,B), (D,R2,C,B)!=(D,R5,C,B), (D,R2,C,B)!=(D,R6,C,B), (D,R2,C,B)!=(D,R7,C,B), (D,R2,C,B)!=(D,R8,C,B), (D,R2,C,B)!=(D,R9,C,B), (D,R3,C,B)!=(D,R4,C,B), (D,R3,C,B)!=(D,R5,C,B), (D,R3,C,B)!=(D,R6,C,B), (D,R3,C,B)!=(D,R7,C,B), (D,R3,C,B)!=(D,R8,C,B), (D,R3,C,B)!=(D,R9,C,B), (D,R4,C,B)!=(D,R5,C,B), (D,R4,C,B)!=(D,R6,C,B), (D,R4,C,B)!=(D,R7,C,B), (D,R4,C,B)!=(D,R8,C,B), (D,R4,C,B)!=(D,R9,C,B), (D,R5,C,B)!=(D,R6,C,B), (D,R5,C,B)!=(D,R7,C,B), (D,R5,C,B)!=(D,R8,C,B), (D,R5,C,B)!=(D,R9,C,B), (D,R6,C,B)!=(D,R7,C,B), (D,R6,C,B)!=(D,R8,C,B), (D,R6,C,B)!=(D,R9,C,B), (D,R7,C,B)!=(D,R8,C,B), (D,R7,C,B)!=(D,R9,C,B), (D,R8,C,B)!=(D,R9,C,B).
% Each box can only have one of each digit.
{D1; D2; D3; D4; D5; D6; D7; D8; D9}=1 :- assign(D,R,C1,B), assign(D,R,C2,B), assign(D,R,C3,B), assign(D,R,C4,B), assign(D,R,C5,B), assign(D,R,C6,B), assign(D,R,C7,B), assign(D,R,C8,B), assign(D,R,C9,B), (D,R,C1,B)!=(D,R,C2,B), (D,R,C1,B)!=(D,R,C3,B), (D,R,C1,B)!=(D,R,C4,B), (D,R,C1,B)!=(D,R,C5,B), (D,R,C1,B)!=(D,R,C6,B), (D,R,C1,B)!=(D,R,C7,B), (D,R,C1,B)!=(D,R,C8,B), (D,R,C1,B)!=(D,R,C9,B), (D,R,C2,B)!=(D,R,C3,B), (D,R,C2,B)!=(D,R,C4,B), (D,R,C2,B)!=(D,R,C5,B), (D,R,C2,B)!=(D,R,C6,B), (D,R,C2,B)!=(D,R,C7,B), (D,R,C2,B)!=(D,R,C8,B), (D,R,C2,B)!=(D,R,C9,B), (D,R,C3,B)!=(D,R,C4,B), (D,R,C3,B)!=(D,R,C5,B), (D,R,C3,B)!=(D,R,C6,B), (D,R,C3,B)!=(D,R,C7,B), (D,R,C3,B)!=(D,R,C8,B), (D,R,C3,B)!=(D,R,C9,B), (D,R,C4,B)!=(D,R,C5,B), (D,R,C4,B)!=(D,R,C6,B), (D,R,C4,B)!=(D,R,C7,B), (D,R,C4,B)!=(D,R,C8,B), (D,R,C4,B)!=(D,R,C9,B), (D,R,C5,B)!=(D,R,C6,B), (D,R,C5,B)!=(D,R,C7,B), (D,R,C5,B)!=(D,R,C8,B), (D,R,C5,B)!=(D,R,C9,B), (D,R,C6,B)!=(D,R,C7,B), (D,R,C6,B)!=(D,R,C8,B), (D,R,C6,B)!=(D,R,C9,B), (D,R,C7,B)!=(D,R,C8,B), (D,R,C7,B)!=(D,R,C9,B), (D,R,C8,B)!=(D,R,C9,B).